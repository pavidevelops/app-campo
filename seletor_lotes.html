<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Selecione o lote para atividade</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #f6f9ff;
      --card: #ffffff;
      --blue-soft: #d0e3ff; /* botão suave */
      --blue-strong: #2c6fd1; /* destaque */
      --text: #102a42;
      --muted: #5c6c7c;
      --radius: 14px;
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    *{box-sizing: border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(180deg,var(--bg), #e8f1ff 60%);
      color:var(--text);
      padding:24px;
    }

    .card{
      width:100%;
      max-width:760px;
      background:var(--card);
      border-radius:18px;
      box-shadow: 0 10px 30px rgba(16,42,66,0.06);
      padding:28px;
    }

    h1{
      margin:0 0 8px 0;
      font-size:20px;
      font-weight:700;
    }
    p.lead{
      margin:0 0 18px 0;
      color:var(--muted);
      font-size:14px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(160px,1fr));
      gap:14px;
    }

    .lot-button{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:14px 16px;
      border-radius:12px;
      border: none;
      background: linear-gradient(0deg, rgba(44,111,209,0.08), rgba(44,111,209,0.02)), var(--blue-soft);
      color:var(--blue-strong);
      font-weight:600;
      font-size:15px;
      cursor:pointer;
      box-shadow: 0 6px 18px rgba(44,111,209,0.12);
      transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
      text-decoration:none;
      text-align:center;
      border:1px solid rgba(44,111,209,0.12);
    }

    .lot-button:focus{
      outline: 3px solid rgba(44,111,209,0.14);
      outline-offset: 2px;
    }

    .lot-button:hover{
      transform: translateY(-4px);
      box-shadow: 0 12px 30px rgba(44,111,209,0.14);
      background: linear-gradient(180deg, #d9e9ff, var(--blue-soft));
    }

    .lot-number{
      display:inline-block;
      min-width:36px;
      padding:6px 8px;
      border-radius:8px;
      background:rgba(44,111,209,0.12);
      color:var(--blue-strong);
      font-weight:700;
    }

    .note{
      margin-top:18px;
      font-size:13px;
      color:var(--muted);
    }

    @media (max-width:420px){
      .lot-button{padding:12px 10px;font-size:14px}
    }
  </style>
</head>
<body>
  <main class="card" role="main">
    <h1>
BEM VINDO SISTEMA EVIDENTE<br><br>
Selecione o lote para atividade:</h1>
    <p class="lead">Toque (ou clique) no lote desejado.</p>

    <section class="grid" aria-label="Lista de lotes">
      <!-- Botões com data-* para identificação robusta -->
      <a href="#" class="lot-button" data-lote="06" data-lote-nome="Lote 06" data-lote-codigo="L06">
        <span class="lot-number">06</span>
        <span>Lote 06</span>
      </a>

      <a href="#" class="lot-button" data-lote="27" data-lote-nome="Lote 27" data-lote-codigo="L27">
        <span class="lot-number">27</span>
        <span>Lote 27</span><br>
      </a>

      <a href="#" class="lot-button" data-lote="28" data-lote-nome="Lote 28" data-lote-codigo="L28">
        <span class="lot-number">28</span>
        <span>Lote 28</span>
      </a>

      <a href="#" class="lot-button" data-lote="35" data-lote-nome="Lote 35" data-lote-codigo="L35">
        <span class="lot-number">35</span>
        <span>Lote 35</span>
      </a>

      <a href="#" class="lot-button" data-lote="24" data-lote-nome="Lote 24" data-lote-codigo="L24">
        <span class="lot-number">24</span>
        <span>Lote 24</span>
      </a>

      <a href="#" class="lot-button" data-lote="18" data-lote-nome="Lote 18" data-lote-codigo="L18">
        <span class="lot-number">18</span>
        <span>Lote 18</span>
      </a>

      <a href="#" class="lot-button" data-lote="08" data-lote-nome="Lote 08" data-lote-codigo="L08">
        <span class="lot-number">08</span>
        <span>Lote 08</span>
      </a>
    </section>

    <p class="note">ÁREA DE SELEÇÃO</p>
  </main>

  <script>
    // Página única de coleta
    const PROXIMA_PAGINA = 'profeta_diario.html';

    document.addEventListener('click', function(e){
      const btn = e.target.closest('.lot-button');
      if(!btn) return;
      e.preventDefault();

      // 1) Prioriza data-atributos (mais confiável)
      let nome = btn.getAttribute('data-lote-nome') || '';
      let cod  = btn.getAttribute('data-lote-codigo') || '';
      let num  = btn.getAttribute('data-lote') || '';

      // 2) Se faltar, tenta extrair do texto visível
      if(!num){
        const fromBadge = btn.querySelector('.lot-number')?.textContent?.trim();
        if (fromBadge) num = fromBadge;
      }
      if(!nome && num) nome = `Lote ${String(num).padStart(2,'0')}`;
      if(!cod && num)  cod  = `L${String(num).padStart(2,'0')}`;

      if(!nome){
        // não reconheceu, não altera o comportamento
        return;
      }

      // Salva para a página de coleta utilizar (irá para Coluna L no GAS)
      localStorage.setItem('EVIDENTE_LOTE_NOME', nome); // ex.: "Lote 08"
      localStorage.setItem('EVIDENTE_LOTE_COD',  cod);  // ex.: "L08"

      // Redireciona sempre para a página única
      window.location.href = PROXIMA_PAGINA;
    });
  </script>

</body>
</html>

